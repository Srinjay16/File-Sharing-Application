# Overview

This is a peer-to-peer (P2P) file sharing application built with Flask that allows users to share files directly between devices using TCP/IP networking. The application provides a web-based interface for managing files, discovering peers, and monitoring transfers. Users can upload files to a local shared directory, connect to other peers manually, and transfer files through a custom TCP protocol.

# User Preferences

Preferred communication style: Simple, everyday language.

# System Architecture

## Frontend Architecture
- **Web Interface**: Bootstrap-based responsive UI with dark theme support
- **Template Engine**: Jinja2 templates with a base template system for consistent layout
- **Static Assets**: Custom CSS and JavaScript for enhanced user experience
- **Pages**: Dashboard, file management, peer discovery, and transfer monitoring interfaces

## Backend Architecture
- **Web Framework**: Flask application serving HTTP requests on port 5000
- **TCP File Server**: Custom TCP server running on port 8000 for direct file transfers
- **Threading Model**: Multi-threaded architecture with daemon threads for TCP server
- **File Management**: Local file system storage with metadata extraction and file validation
- **Peer Discovery**: Manual peer addition system with connection testing and status tracking

## Data Storage
- **File Storage**: Local file system using a `shared_files` directory
- **File Metadata**: In-memory storage of file information including size, modification date, and hash
- **Peer Information**: In-memory peer registry with connection status and last seen timestamps
- **Configuration**: Environment-based configuration with sensible defaults

## Transfer Protocol
- **Protocol**: Custom TCP-based file transfer protocol using 8KB chunks
- **Security**: Basic file type validation and size limits (100MB maximum)
- **Supported Formats**: Wide range of file types including documents, media, and code files
- **Transfer Management**: Active transfer tracking with timeout handling

## Application Structure
- **Routes Module**: Handles web interface endpoints and file operations
- **File Manager**: Manages local file operations, metadata extraction, and file listing
- **TCP Server**: Handles peer-to-peer file transfers and client connections
- **Peer Discovery**: Manages peer connections and status monitoring

# External Dependencies

## Python Packages
- **Flask**: Web framework for HTTP server and routing
- **Werkzeug**: WSGI utilities and security features for file uploads
- **Standard Library**: Threading, socket, os, hashlib, mimetypes, and logging modules

## Frontend Libraries
- **Bootstrap**: UI framework with dark theme support from Replit CDN
- **Bootstrap Icons**: Icon library for consistent visual elements
- **Custom CSS/JS**: Application-specific styling and client-side functionality

## Network Dependencies
- **TCP/IP**: Direct peer-to-peer connections without external relay servers
- **Local Network**: Designed for LAN-based file sharing between trusted devices
- **Port Requirements**: Flask on port 5000 (HTTP) and custom TCP server on port 8000

## System Dependencies
- **File System**: Local directory access for file storage and management
- **Network Access**: Socket permissions for TCP server and client connections
- **Threading Support**: Multi-threading capabilities for concurrent connections